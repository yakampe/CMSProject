<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org">
<head>
<th:block th:insert="fragments/header :: head">
</th:block>
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css"
	rel="stylesheet">
</head>
<body>
	<div th:insert="fragments/navbar" id="navbar-wrap"></div>
	<div class="container mt-10">
		<form action="#" th:action="@{/admin/savePage}" th:object="${page}"
			method="post" enctype="multipart/form-data">
			<div class="form-group">

				<div class="card mb-3">
					<img class="card-img-top border border-info" th:src="@{${page.headerImage}}"
						style="width: 100%; height: 200px; object-fit: cover;">
					<div class="card-body">
						<h5 class="card-title">Header Image</h5>
						<input type="file" name="file" />
					</div>
				</div>


				<label for="pageTitle">Page title</label> <input
					class="form-control" id="pageTitle" th:field="*{pageTitle}" /> <label>Page
					Content</label>
				<div id="editor">
					<th:block th:utext=${page.content}>
					</th:block>
				</div>
				<div class="form-check">
					<input type="checkbox" class="form-check-input"
						th:field="*{DisplayOnMainPage}" id="displayOnMainPage" /> <label
						class="form-check-label" for="displayOnMainPage">Display
						on main page</label>
				</div>
			</div>
			<button class="btn btn-primary" onClick="saveForm()" type="submit">Save
				page</button>
			<textarea hidden th:field="*{content}"></textarea>
			<input hidden th:field="*{ID}" /> <input hidden
				th:field="*{headerImage}" />
		</form>
	</div>
	<footer>

		<script>
			var toolbarOptions = [ [ {
				'align' : []
			} ], [ 'bold', 'italic', 'underline', 'strike' ], // toggled buttons
			[ 'blockquote', 'code-block' ],

			[ {
				'header' : 1
			}, {
				'header' : 2
			} ], // custom button values
			[ {
				'list' : 'ordered'
			}, {
				'list' : 'bullet'
			} ],

			[ {
				'header' : [ 1, 2, 3, 4, 5, 6, false ]
			} ],

			[ {
				'color' : []
			}, {
				'background' : []
			} ], // dropdown with defaults from theme
			[ 'image', 'link' ], [ 'clean' ] // remove formatting button
			];
			var quill = new Quill("#editor", {
				modules : {
					toolbar : toolbarOptions
				},
				theme : 'snow'
			});
			function saveForm() {
				$("#content").val($(".ql-editor").get(0).innerHTML);
			}
		</script>
	</footer>



</body>
</html>